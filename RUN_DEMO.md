# 快速运行演示

## 一键测试所有命令

按顺序运行以下命令，观察传统 RAG 和 HippoRAG 的区别：

### 1. 准备环境

```bash
# 确保已配置 .env 文件
cp .env.example .env
# 编辑 .env，填入你的 OPENAI_API_KEY

# 下载依赖
go mod download
```

### 2. 运行演示

#### 命令1: 传统 RAG 检索 + LLM 生成答案

```bash
make demo1
```

输入问题：`爱因斯坦出生于哪个世纪？`

观察：
- 检索到哪些文档？
- 是否包含"19世纪"的定义？
- LLM 能否正确回答？

---

#### 命令2: 传统 RAG 仅检索

```bash
make demo2
```

输入问题：`爱因斯坦出生于哪个世纪？`

观察：
- 向量相似度分数
- 检索到的文档排序
- 是否遗漏关键文档？

---

#### 命令3: HippoRAG 检索 + LLM 生成答案

```bash
make demo3
```

输入问题：`爱因斯坦出生于哪个世纪？`

观察：
- 索引时提取了哪些实体？
- 构建了多少图节点和边？
- PPR 如何在图上传播？
- 检索到哪些文档？
- LLM 的答案是否更准确？

---

#### 命令4: HippoRAG 仅检索

```bash
make demo4
```

输入问题：`爱因斯坦出生于哪个世纪？`

观察：
- 实体检索过程
- PPR 分数计算
- 文档排序逻辑
- 为什么能找到"19世纪"定义？

---

## 预期对比结果

### 传统 RAG (命令1/2)

**检索结果**:
```
1. [相似度: 0.85] 阿尔伯特·爱因斯坦是著名的物理学家
2. [相似度: 0.82] 爱因斯坦于1879年3月14日出生于德国乌尔姆
3. [相似度: 0.78] 爱因斯坦在1921年获得诺贝尔物理学奖
```

**问题**: ❌ 遗漏了"19世纪定义"文档

**LLM 答案**: 可能回答"1879年"，但无法明确说明"19世纪"

---

### HippoRAG (命令3/4)

**检索结果**:
```
1. [PPR分数: 0.156] 爱因斯坦于1879年3月14日出生于德国乌尔姆
2. [PPR分数: 0.089] 19世纪是指1801年到1900年这段时期
3. [PPR分数: 0.067] 阿尔伯特·爱因斯坦是著名的物理学家
```

**优势**: ✅ 成功检索到"19世纪定义"文档

**LLM 答案**: 能够准确回答"爱因斯坦出生于19世纪（1879年）"

---

## 关键区别

| 特性 | 传统 RAG | HippoRAG |
|------|---------|----------|
| 检索方法 | 向量相似度 | 实体 + PPR 图传播 |
| 多跳推理 | ❌ | ✅ |
| 发现关联 | ❌ | ✅ |
| 答案准确性 | 中等 | 高 |

---

## 更多测试问题

试试这些问题，观察两种方法的差异：

1. "爱因斯坦什么时候获得诺贝尔奖？"
2. "相对论是谁发表的？"
3. "1879年出生的物理学家是谁？"
4. "19世纪有哪些著名物理学家？"

---

## 故障排除

### 问题: 命令找不到

```bash
# 确保在项目根目录
pwd  # 应该显示 .../HippoRAGdemo

# 检查 Makefile 是否存在
ls Makefile
```

### 问题: API Key 错误

```bash
# 检查 .env 文件
cat .env

# 确保格式正确
OPENAI_API_KEY=sk-...
```

### 问题: 依赖缺失

```bash
go mod download
go mod tidy
```

---

## 编译独立可执行文件

如果想要独立的可执行文件：

```bash
make build-all

# 运行
./bin/demo1
./bin/demo2
./bin/demo3
./bin/demo4
```

---

## 清理

```bash
make clean
```
